<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ABA CRM - Dashboard</title>
  <style>
    /* Reset styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
    }

    /* Header styles */
    header {
      background-color: #005c97;
      color: #fff;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header h1 {
      font-size: 1.5rem;
    }

    nav ul {
      list-style-type: none;
      display: flex;
    }

    nav ul li {
      margin-right: 1rem;
    }

    nav ul li:not(:last-child) {
      display: none; /* Hide all nav items except the last one */
    }

    nav ul li a {
      color: #fff;
      text-decoration: none;
      padding: 0.5rem;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    nav ul li a:hover {
      background-color: #003f74;
    }

    /* Main content styles */
    main {
      display: flex;
      flex-direction: column;
      padding: 2rem;
    }

    .dashboard {
      width: 100%;
      background-color: #005c97;
      color: #fff;
      padding: 1rem;
    }

    .dashboard h2 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
    }

    .dashboard ul {
      list-style-type: none;
      padding: 0;
    }

    .dashboard li {
      margin-bottom: 0.5rem;
    }

    .dashboard li a {
      color: #fff;
      text-decoration: none;
      display: block;
      padding: 0.5rem;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .dashboard li a:hover {
      background-color: #003f74;
    }

    .content {
      flex-grow: 1;
    }

    /* Table styles */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 2rem;
      background-color: #fff;
    }

    table th,
    table td {
      padding: 0.75rem;
      border: 1px solid #ddd;
      text-align: left;
    }

    table th {
      background-color: #005c97;
      color: #fff;
    }

    table tbody tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    table tbody tr:hover {
      background-color: #e0e0e0;
    }

    /* Footer styles */
    footer {
      background-color: #005c97;
      color: #fff;
      padding: 1rem;
      text-align: center;
      clear: both;
    }

    /* Button styles */
    .btn {
      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .btn:hover {
      background-color: #0056b3;
    }

    /* Larger search input styles */
    #search-input {
      width: 50%; /* Adjust width as needed */
      padding: 1rem;
      font-size: 1.2rem;
      font-family: Arial, sans-serif;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    /* Form styles */
    .form-container {
      max-width: 400px;
      margin: 0 auto;
      background-color: #fff;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .form-container h2 {
      margin-bottom: 1rem;
      text-align: center;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-group label {
      display: block;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    .form-group input[type="text"],
    .form-group input[type="date"],
    .form-group select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    /* Media queries for mobile responsiveness */
    @media screen and (min-width: 768px) {
      main {
        flex-direction: row;
      }

      .dashboard {
        width: 250px;
      }

      .content {
        flex-grow: 1;
        margin-left: 2rem;
      }

      .dashboard ul li {
        margin-bottom: 1rem;
      }

      table {
        margin-bottom: 0;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>ABA CRM</h1>
    <nav>
      <ul>
        <li><a href="#" class="nav-item">Search records by Patient's Name</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <aside class="dashboard" id="dashboard">
      <h2>Dashboard</h2>
      <ul id="dashboard-items">
        <!-- JavaScript will populate this list -->
      </ul>
    </aside>

    <section class="content" id="main-content">
      <!-- Main content section -->
      <!-- Content will be dynamically populated here -->
    </section>
  </main>

  <footer>
    <p>&copy; 2024 ABA CRM. All rights reserved.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Dummy data for dashboard items
      const dashboardItems = [
        { name: "Today's Appointments", data: generateDummyData(5), columns: ["ID", "Patient Name", "Appointment Time", "Therapist"] },
        { name: "Upcoming Assessments", data: generateDummyData(7), columns: ["ID", "Patient Name", "Assessment Type", "Scheduled Date"] },
        { name: "Treatment Plan Overview", data: generateDummyData(10), columns: ["ID", "Patient Name", "Assigned Therapist", "Start Date"] },
        { name: "Recent Progress Reports", data: generateDummyData(8), columns: ["ID", "Patient Name", "Date", "Therapist"] },
        { name: "Data Analysis", data: generateDummyData(12), columns: ["ID", "Patient Name", "Diagnosis", "Age", "Gender"] },
        { name: "Take Notes", data: null, columns: null }, // Placeholder for Take Notes functionality
        { name: "Search records by Patient's Name", data: null, columns: null }, // Placeholder for Search functionality
        { name: "Add New Patient Record", data: null, columns: null }, // Placeholder for Add New Patient Record functionality
        { name: "Patient Medical History", data: generateMedicalHistoryData(10), columns: ["ID", "Patient ID", "Date", "Diagnosis", "Treatment", "Prescribing Doctor"] } // Patient Medical History item
      ];

      // Function to generate dummy data for tables
      function generateDummyData(rows) {
        const data = [];
        const patientNames = ["Jack", "Sam", "Noor", "Emily", "Aiden", "Emma", "Liam", "Olivia", "Ethan", "Sophia"];
        for (let i = 1; i <= rows; i++) {
          data.push({
            ID: i,
            "Patient Name": patientNames[Math.floor(Math.random() * patientNames.length)],
            "Appointment Time": `2024-04-${i} 10:00 AM`,
            Therapist: `Therapist ${Math.floor(Math.random() * 5) + 1}`,
            "Assessment Type": Math.random() < 0.5 ? "Initial Assessment" : "Progress Assessment",
            "Scheduled Date": `2024-05-${i}`,
            "Assigned Therapist": `Therapist ${Math.floor(Math.random() * 5) + 1}`,
            "Start Date": `2024-04-01`,
            Date: `2024-04-${i}`,
            Diagnosis: Math.random() < 0.5 ? "Autism" : "ADHD",
            Age: Math.floor(Math.random() * 10 + 3),
            Gender: Math.random() < 0.5 ? "Male" : "Female"
          });
        }
        return data;
      }

      // Function to generate dummy medical history data
      function generateMedicalHistoryData(rows) {
        // Generate dummy medical history data
        const data = [];
        const patientIDs = ["P001", "P002", "P003", "P004", "P005", "P006", "P007", "P008", "P009", "P010"];
        const diagnoses = ["Autism Spectrum Disorder", "Attention Deficit Hyperactivity Disorder", "Developmental Delay", "Speech Disorder"];
        const treatments = ["Applied Behavior Analysis (ABA)", "Speech Therapy", "Occupational Therapy", "Medication"];
        const doctors = ["Dr. Smith", "Dr. Johnson", "Dr. Williams", "Dr. Brown", "Dr. Jones"];
        for (let i = 1; i <= rows; i++) {
          data.push({
            ID: i,
            "Patient ID": patientIDs[Math.floor(Math.random() * patientIDs.length)],
            Date: `2024-04-${i}`,
            Diagnosis: diagnoses[Math.floor(Math.random() * diagnoses.length)],
            Treatment: treatments[Math.floor(Math.random() * treatments.length)],
            "Prescribing Doctor": doctors[Math.floor(Math.random() * doctors.length)]
          });
        }
        return data;
      }

      // Function to generate HTML for a table from data
      function generateTableHTML(data, columns) {
        let html = '<table>';
        html += '<thead><tr>';
        columns.forEach(column => {
          html += `<th>${column}</th>`;
        });
        html += '</tr></thead>';
        html += '<tbody>';
        data.forEach(row => {
          html += '<tr>';
          columns.forEach(column => {
            html += `<td>${row[column]}</td>`;
          });
          html += '</tr>';
        });
        html += '</tbody></table>';
        return html;
      }

      // Function to populate dashboard with items
      function populateDashboard() {
        const dashboardList = document.getElementById("dashboard-items");
        dashboardList.innerHTML = ""; // Clear existing items

        dashboardItems.forEach(item => {
          const listItem = document.createElement("li");
          const link = document.createElement("a");
          link.href = "#";
          link.textContent = item.name;
          listItem.appendChild(link);
          dashboardList.appendChild(listItem);

          // Add click event listener to dashboard items to display table or form
          link.addEventListener("click", function(event) {
            event.preventDefault();
            if (item.name === "Take Notes") {
              // Display UI for taking notes
              document.getElementById("main-content").innerHTML = `
                <h2>Take Notes</h2>
                <textarea id="notes-textarea" rows="10" cols="50"></textarea>
                <br>
                <button id="submit-notes" class="btn">Submit</button>
              `;
              
              // Add event listener to submit button
              const submitButton = document.getElementById("submit-notes");
              submitButton.addEventListener("click", function() {
                const notes = document.getElementById("notes-textarea").value;
                // Here you can handle the submission of notes, such as sending them to a server or storing them locally
                console.log("Notes submitted:", notes);
                // Optionally, clear the textarea after submission
                document.getElementById("notes-textarea").value = "";
              });
            } else if (item.name === "Search records by Patient's Name") {
              // Display UI for searching records by patient's name
              document.getElementById("main-content").innerHTML = `
                <h2>Search Records by Patient's Name</h2>
                <input type="text" id="search-input" placeholder="Enter patient's name" style="width: 50%;">
                <button id="search-button" class="btn">Search</button>
                <div id="search-results"></div>
              `;
              
              // Add event listener to search button
              const searchButton = document.getElementById("search-button");
              searchButton.addEventListener("click", function() {
                const searchInput = document.getElementById("search-input").value.trim();
                const searchResults = searchRecordsByPatientName(searchInput);
                document.getElementById("search-results").innerHTML = generateTableHTML(searchResults, ["ID", "Patient Name", "Date", "Therapist"]);
              });
            } else if (item.name === "Add New Patient Record") {
              // Display form for adding new patient record
              document.getElementById("main-content").innerHTML = `
                <div class="form-container">
                  <h2>Add New Patient Record</h2>
                  <form id="add-patient-form">
                    <div class="form-group">
                      <label for="patient-name">Patient Name</label>
                      <input type="text" id="patient-name" name="patient-name" required>
                    </div>
                    <div class="form-group">
                      <label for="appointment-date">Appointment Date</label>
                      <input type="date" id="appointment-date" name="appointment-date" required>
                    </div>
                    <div class="form-group">
                      <label for="therapist">Assigned Therapist</label>
                      <select id="therapist" name="therapist" required>
                        <option value="">Select Therapist</option>
                        <option value="Therapist 1">Therapist 1</option>
                        <option value="Therapist 2">Therapist 2</option>
                        <option value="Therapist 3">Therapist 3</option>
                        <option value="Therapist 4">Therapist 4</option>
                        <option value="Therapist 5">Therapist 5</option>
                      </select>
                    </div>
                    <button type="submit" class="btn">Add Record</button>
                  </form>
                </div>
              `;
              
              // Add event listener to form submission
              const addPatientForm = document.getElementById("add-patient-form");
              addPatientForm.addEventListener("submit", function(event) {
                event.preventDefault();
                const formData = new FormData(addPatientForm);
                const newRecord = {};
                formData.forEach((value, key) => {
                  newRecord[key] = value;
                });
                // Here you can handle the submission of the new patient record, such as sending it to a server or storing it locally
                console.log("New Patient Record:", newRecord);
                // Optionally, clear the form fields after submission
                addPatientForm.reset();
              });
            } else if (item.name === "Patient Medical History") {
              // Display patient medical history with HIPAA compliance and EMR integration
              document.getElementById("main-content").innerHTML = `
                <h2>Patient Medical History</h2>
                <p>To ensure compliance with HIPAA regulations and integrate with Electronic Medical Records (EMR) standards, we implement the following measures:</p>
                <ol>
                  <li><strong>Data Encryption:</strong> Data transmission is encrypted using HTTPS to ensure secure communication.</li>
                  <li><strong>Role-Based Access Control (RBAC):</strong> Access to patient data is restricted based on user roles, ensuring that only authorized personnel can view sensitive information.</li>
                  <li><strong>Anonymization/Pseudonymization:</strong> Patient identifiers are anonymized or pseudonymized to protect patient privacy, ensuring that sensitive information cannot be linked back to individual patients.</li>
                  <li><strong>Audit Logging:</strong> Audit logs are maintained to track access to patient data, providing a record of who accessed what information and when.</li>
                </ol>
                <h2>Demo</h2>
                <p>Below is a demo of the Patient Medical History:</p>
                ${generateTableHTML(item.data, item.columns)}
              `;
            } else {
              document.getElementById("main-content").innerHTML = generateTableHTML(item.data, item.columns);
            }
          });
        });
      }

      // Function to handle navigation link clicks
      function handleNavigationClick() {
        const navItems = document.querySelectorAll(".nav-item");
        navItems.forEach(item => {
          item.addEventListener("click", function(event) {
            event.preventDefault();
            const itemName = this.textContent.trim();
            const clickedItem = dashboardItems.find(dashboardItem => dashboardItem.name === itemName);
            if (clickedItem && itemName === "Search records by Patient's Name") {
              // Display UI for searching records by patient's name
              document.getElementById("main-content").innerHTML = `
                <h2>Search Records by Patient's Name</h2>
                <input type="text" id="search-input" placeholder="Enter patient's name" style="width: 50%;">
                <button id="search-button" class="btn">Search</button>
                <div id="search-results"></div>
              `;
              
              // Add event listener to search button
              const searchButton = document.getElementById("search-button");
              searchButton.addEventListener("click", function() {
                const searchInput = document.getElementById("search-input").value.trim();
                const searchResults = searchRecordsByPatientName(searchInput);
                document.getElementById("search-results").innerHTML = generateTableHTML(searchResults, ["ID", "Patient Name", "Date", "Therapist"]);
              });
            }
          });
        });
      }

      // Function to search records by patient's name
      function searchRecordsByPatientName(name) {
        const allData = [].concat(...dashboardItems.filter(item => item.data).map(item => item.data)); // Flatten the data array
        return allData.filter(record => record["Patient Name"].toLowerCase().includes(name.toLowerCase()));
      }

      // Populate dashboard initially
      populateDashboard();

      // Handle navigation link clicks
      handleNavigationClick();
    });
  </script>
</body>
</html>
